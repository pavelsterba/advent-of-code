<?php
require $_composer_autoload_path ?? __DIR__ . '/../vendor/autoload.php';

use AdventOfCode\Command\InputCommand;
use Symfony\Component\Console\Application;
use Symfony\Component\Dotenv\Dotenv;

$envFile = getcwd() . DIRECTORY_SEPARATOR . '.env';

if (is_readable($envFile)) {
    $dotenv = new Dotenv();
    $dotenv->load($envFile);

    $application = new Application();

    $application->add(new InputCommand());

    $application->run();
} else {
    echo ".env file not found in " . $envFile . "\n";
    echo "Create it and add AOC_SESSION with your login session key.\n";
    exit(1);
}
